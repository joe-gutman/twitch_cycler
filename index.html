<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitch Channel Cycler</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="controls">
        <div style="grid-column: 1; display: flex; align-items: center; gap: 15px;">
            <div style="min-width: 200px;">
                <div id="channelName">Loading...</div>
                <div id="streamInfo"></div>
            </div>
            <div id="liveCount" style="display: none;">0 LIVE</div>
            <div id="categoryCount" style="display: none; background-color: #9147ff; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold;">0 in Category</div>
        </div>
        
        <div style="grid-column: 2; display: flex; gap: 15px;">
            <button id="prevBtn" onclick="previousChannel()">◀ Previous</button>
            <button id="playPauseBtn" onclick="togglePlayPause()">⏸ Pause</button>
            <button id="nextBtn" onclick="nextChannel()">Next ▶</button>
        </div>
        
        <div style="grid-column: 3; display: flex; gap: 15px; justify-content: flex-end;">
            <div id="manageBtnContainer">
                <button onclick="toggleManagePanel()">⚙️ Settings</button>
                
                <!-- Settings Panel -->
                <div id="managePanel" class="hidden">
                    <h3>
                        <span>Settings</span>
                        <button class="close-panel-btn" onclick="toggleManagePanel()">✕</button>
                    </h3>
                    <div>
                        <div style="margin-bottom: 15px;">
                            <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                                <input type="checkbox" id="liveOnlyCheckbox" onchange="toggleLiveOnly()" checked>
                                Live channels only
                            </label>

                            <label style="display: flex; flex-direction: column; gap: 4px; margin-bottom: 12px; align-items: flex-start;">
                                <span>Category Filter:</span>
                                <div style="display: flex; gap: 8px; width: 100%;">
                                    <input type="text" id="categoryInput" value="Minecraft" placeholder="e.g., Minecraft, Just Chatting..." style="flex: 1; padding: 8px; background-color: #18181b; color: white; border: 1px solid #464649; border-radius: 4px; width: auto; max-width: 100%; box-sizing: border-box;">
                                    <button onclick="updateCategory()" style="padding: 8px 16px; background-color: #9147ff; color: white; border: none; border-radius: 4px; cursor: pointer; white-space: nowrap; flex-shrink: 0;">Apply</button>
                                    <button onclick="clearCategory()" style="padding: 8px 12px; background-color: #ff6b6b; color: white; border: none; border-radius: 4px; cursor: pointer; flex-shrink: 0;" title="Clear category filter">✕</button>
                                </div>
                                <span style="font-size: 11px; color: #adadb8;">Only show streams in this category/game (leave empty for all)</span>
                            </label>

                            <label style="display: flex; align-items: center; gap: 8px;">
                                Interval (seconds):
                                <input type="number" id="intervalInput" value="30" min="5" max="600" onchange="updateInterval()">
                            </label>
                        </div>

                        <div style="border-top: 1px solid #464649; margin-top: 15px;">
                            <div style="background-color: #9147ff; color: white; font-weight: bold; padding: 10px; text-align: center; margin: 0 -15px; margin-bottom: 15px;">Manage Streamers</div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div class="add-input-group">
                            <input type="text" id="streamerInput" placeholder="Enter streamer name..." />
                            <button class="add-btn" onclick="addStreamer()">+ Add</button>
                        </div>
                        
                        <div style="margin-bottom: 10px; color: #adadb8; font-size: 12px;">Or paste comma-separated list:</div>
                        <textarea class="bulk-paste-area" id="bulkPasteArea" rows="3" placeholder="streamer1, streamer2, streamer3"></textarea>
                        <button class="add-btn" onclick="bulkAddStreamers()" style="margin-top: 8px; width: 100%;">Add All from List</button>
                    </div>
                    
                    <div class="streamer-list" id="streamerList"></div>
                </div>
            </div>
        </div>
        
        <div id="progress" style="grid-column: 1 / -1;">
            <div id="progressBar"></div>
        </div>
    </div>
    
    <div id="iframe-container">
        <iframe id="twitchFrame" src="" allowfullscreen></iframe>
    </div>

    <script src="app.js"></script>
</body>
</html>
